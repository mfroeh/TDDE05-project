# Configuration
deflogin on
defshell -bash
autodetach off

caption always

bindkey ^w screen
bindkey ^p prev
bindkey ^n next
bindkey ^x quit
bind q quit
bindkey ^l windowlist
bindkey ^e copy

# Pre-defined tabs

screen 0
title "Simulator"
stuff "tdde05-start; ros2 launch air_bringup turtle.launch.py world:=office_1\015"

screen 2
title "rviz"
stuff "start-tdde05; rviz2 -d $HOME/TDDE05/ros2_ws/src/air_common/rviz/config.rviz\015"

screen 3
title "rqt"
stuff "tdde05-start; rqt\015"

screen 4
title "Other I"
stuff "bash tdde05-start\015"

screen 5
title "Other II"
stuff "bash tdde05-start\015"

screen 6
title "Insert objects into database" 
stuff "tdde05-start; ros2 run air_simple_sim generate_rdf office_1; ros2 service call /kdb_server/insert_triples  ros2_kdb_msgs/srv/InsertTriples \"\ngraphname: 'semanticobject'\nformat: 'ttl'\ncontent: '`ros2 run air_simple_sim generate_rdf office_1`'\""

screen 7
title "launch database server"
stuff "tdde05-start; ros2 run ros2_kdb server\015" #rm -rf $HOME/.lrs_kdb/stores/

screen 8
title "Launch exploration_server"
stuff "tdde05-start; ros2 run air_exploration exploration_server"

screen 9
title "Test exploration"
stuff "tdde05-start; ros2 action send_goal explore air_interfaces/Explore '{name: \"Hello\", kind: \"Object\", policy: \"biggest\", minsize: 15}'"